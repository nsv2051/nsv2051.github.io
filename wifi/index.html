<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>WiFiäºŒç»´ç </title>
    <script src="JavaScript/jquery-1.8.3.min.js"></script>
    <script src="JavaScript/jquery.qrcode.min.js"></script>
    <script type="text/javascript">
        $(function () {
            //WiFiè¿æ¥æ¼”ç¤º
            $("#wifi_btn").click(function () {
                var txt = "WIFI:T:" + $('#WiFiType').val() + ";S:" + $('#inputWiFiName').val() + ";P:" + $('#inputWiFiPass').val() + ";;";
                console.log(txt);
                outputQRCod(txt, 400, 400);
            });
        });

        //ä¸­æ–‡å­—ç¬¦å¤„ç†
        function toUtf8(str) {
            var out, i, len, c;
            out = "";
            len = str.length;
            for (i = 0; i < len; i++) {
                c = str.charCodeAt(i);
                if ((c >= 0x0001) && (c <= 0x007F)) {
                    out += str.charAt(i);
                } else if (c > 0x07FF) {
                    out += String.fromCharCode(0xE0 | ((c >> 12) & 0x0F));
                    out += String.fromCharCode(0x80 | ((c >> 6) & 0x3F));
                    out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));
                } else {
                    out += String.fromCharCode(0xC0 | ((c >> 6) & 0x1F));
                    out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));
                }
            }
            return out;
        }

        //ç”ŸæˆäºŒç»´ç 
        function outputQRCod(txt, width, height) {
            //å…ˆæ¸…ç©º
            $("#code").empty();
            //ä¸­æ–‡æ ¼å¼è½¬æ¢
            var str = toUtf8(txt);
            //ç”ŸæˆäºŒç»´ç 
            $("#code").qrcode({
                render: "canvas",
                width: width,
                height: height,
                text: str
            });
        }

    </script>
</head>
<style>
    .input {
        width: 200px;
        height: 30px;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding-left: 5px;
    }
    #main {
        width: 100%;
        height: 100%;
        margin: 0 auto;
        text-align: center;
    }
    #WiFiType {
        width: 120px;
        height: 30px;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding-left: 5px;
    }
    #wifi_btn {
        width: 85px;
        height: 30px;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding-left: 5px;
        background-color: #ccc;
        cursor: pointer;
    }
    #code {
        /* width: 400px;
        height: 400px; */
        margin: 0 auto;
        text-align: center;
    }
    #xiaoxi {
        width: 100%;
        height: 100%;
        margin: 0 auto;
        text-align: center;
    }
    .txt {
        width: 70%;
        height: 100%;
        margin: 0 auto;
        text-align: left
    }
</style>
<body>
    <div id="main">
        <div class="demo">
            <p>è¯·è¾“å…¥å†…å®¹ç„¶åç‚¹å‡»æŒ‰é’®ç”ŸæˆäºŒç»´ç ï¼š</p>
            <div id="code"></div>

            <p>
                WiFiåç§°ï¼š<input type="text" class="input" id="inputWiFiName" value=""><br />
                <br />
                WiFiå¯†ç ï¼š<input type="text" class="input" id="inputWiFiPass" value=""><br />
                <br />
                WiFiç±»å‹ï¼š<select id="WiFiType"><option value="WPA">WPA/WPA2</option>
                    <option value="WEP">WEP</option>
                    <option value="nopass">æ— åŠ å¯†</option>
                </select>
                <input type="button" id="wifi_btn" value="ç”ŸæˆäºŒç»´ç "><br />
                <br />
                <button id="xiazai" onclick="xiazai()">ä¸‹è½½äºŒç»´ç </button>
            </p>
            <div class="txt">
                <!-- å±…ä¸­ -->
                <h1>è¿™æ˜¯ä»€ä¹ˆ?</h1>
                <p> 
                    è¿™ä¸ªç½‘ç«™å¯ä»¥è®©ä½ æ–¹ä¾¿åœ°åˆ›å»ºä¸€å¼ A4å¤§å°çš„å¡ç‰‡ï¼ŒåŒ…å«ä½ çš„WiFiä¿¡æ¯å’Œå¯ä¾›æ‰‹æœºæ‰«æè¿æ¥WiFiçš„äºŒç»´ç ã€‚ä½ åªéœ€è¦åœ¨ğŸ‘†ä¸Šé¢çš„è¡¨æ ¼è¾“å…¥WiFiä¿¡æ¯ï¼Œå°±å¯ä»¥ä¸‹è½½äºŒç»´ç äº†ã€‚
                </p>
                <h2>å¥½å§ï¼Œæˆ‘è¦è¿™ä¸ªäºŒç»´ç å¹²å˜›ï¼Ÿ</h2>
                <p>é—®å¾—å¥½ï¼ ğŸ¤“ è¿™ä¸ªäºŒç»´ç å¯ä»¥è®©ä½ ç”¨æ‰‹æœºæˆ–è€…å¹³æ¿è‡ªå¸¦çš„ç›¸æœºï¼Œä¸€æ­¥åˆ°ä½è¿æ¥WiFiï¼Œçœå»äº†å¯»æ‰¾WiFiï¼Œè¾“å…¥å¯†ç ç­‰ç­‰ç¹æ‚çš„æ‰‹ç»­ã€‚</p>
                <h2>ç”¨è¿™ä¸ªå®‰å…¨å—ï¼Ÿ</h2>
                <p>éå¸¸å®‰å…¨ï¼ä½ çš„WiFiä¿¡æ¯ä¼šè¢«å®‰å…¨åœ°ä¼ è¾“ï¼Œåªç”¨äºåˆ›å»ºä¸€å¼ å¡ç‰‡ï¼Œç»ä¸ä¼šè¢«å‚¨å­˜æˆ–è€…åˆ†äº«ç»™ä»»ä½•äººã€‚</p>
            </div>
        </div>
    </div>
</body>
<script>
    function xiazai() {
        var canvas = document.getElementsByTagName("canvas")[0];
        var url = canvas.toDataURL("image/png");
        var a = document.createElement('a');
        var event = new MouseEvent('click');
        a.download = 'WIFI-QR.png';
        a.href = url;
        a.dispatchEvent(event);
    }
</script>
</html>
